import{d as We,N as Ze,n as Ne,b as E,r as Me,a4 as Ye,w as Ve,R as qe,e as V,t as Je,o as p,x as R,k as l,g as e,v as ne,f as k,j as o,l as U,u as S,p as Le,bc as ct,c as Q,F as ae,A as rt,z as we,y as fe,B as y,ae as Ce,bq as Ge,br as Xe,U as Y,aj as te,ai as me,T as ut,bT as pt,X as ft,bb as mt,bs as _t,bo as vt,bP as ze,bJ as ht,bQ as gt,Z as bt,_ as yt}from"./element-plus.59ccb443.js";import{q as N}from"./lodash.22f463b4.js";import{S as et,h as Nt,f as wt}from"./index.vue_vue_type_style_index_0_scoped_7b7c1886_lang.2666f209.js";import{S as Fe}from"./serviceManage.8c46f250.js";import{W as ve,_ as Ct,a as Dt,b as kt}from"./jointPrepare.318e4ddb.js";import{i as Te}from"./index-a95bb620.js";import{_ as tt}from"./login.a4e9287e.js";import{b as St,c as xe,s as Ae,t as Qe,p as Ke,R as Lt,d as Vt,T as He}from"./dataType.8bfa5e6a.js";import{_ as Tt}from"./error.229cea25.js";function xt(){function j(){return Object.entries(Ae).map(([_,T])=>({label:T,value:_,showValue:T,code:_}))}function ie(){return Object.entries(Qe).map(([_,T])=>({showValue:T,code:_}))}function A(){return Object.entries(Ke).map(([_,T])=>({showValue:T,code:_}))}function w({row:_,column:T}){if(T.property==="status")return`${xe[_.status]} status-column`}function W(_){return _?_===Lt:!1}function J(_,T,B){return Qe[B]}function K(_){return Ae[_]}function I(_){return Vt[_]}function M(_){return N.isNull(_)?"— —":Ke[_]}return{algorithmType:St,getStatusOptions:j,getTypeOptions:ie,getPriorityOptions:A,getCellClassName:w,isRunning:W,workTypeFormatter:J,statusFormatter:K,priorityFormatter:M,statusIconFormatter:I,statusClass:xe}}var G=(j=>(j.NOTSUCCESS="NotSuccessNode",j.FIRST="FirstNodeStart",j.APPOINT="AppointNodes",j))(G||{});const $t={class:"main-content"},Et={id:"scheme-container",class:"scheme-container"},It={class:"title"},Pt=e("span",null,"选择重新运行节点",-1),Ot={class:"icon-box"},Rt={class:"dag-container"},Ut={class:"footer"},jt=We({__name:"SelectNodeDialog",props:{visible:{type:Boolean,default:!1},curEditData:{default:()=>({})},selectedList:{default:()=>[]}},emits:["update:visible","save"],setup(j,{emit:ie}){const A=ie,w=j;Ze(()=>{tt(()=>import("./jointPlug.cfec54db.js"),["./jointPlug.cfec54db.js","./jointPrepare.318e4ddb.js","./element-plus.59ccb443.js","./lodash.22f463b4.js","../css/element-plus-a5bc9350.css","./login.a4e9287e.js","./error.229cea25.js","../css/error-ab7d0c80.css","../../app-config.js","../css/login-8a4effaf.css","./index.vue_vue_type_style_index_0_scoped_7b7c1886_lang.2666f209.js","./index-a95bb620.js","./echarts.39e3cf74.js","./wujie-vue3.9ecbe737.js","./smartweb3.2d5e4c59.js","../css/smartweb3-f9bf067f.css","./smart-ui.e8e0134c.js","../css/smart-ui-6d875ea0.css","../css/index-fc6a8528.css","../css/index-05133815.css","./useTableAndPagination.0c6e0294.js","../css/jointPrepare-41e4096f.css"],import.meta.url).then(()=>{Ne(()=>{T()})})});const W=E(!1),J=E(!1),K=E(!1),I=Me({scheme:{},selectNodesList:[]}),M=E(),_=Ye({paper:null,graph:null});Ve(()=>w.visible,c=>{W.value=c});function T(){_.graph=new window.joint.dia.Graph,_.paper=new window.joint.dia.Paper({el:M.value,model:_.graph,width:"100%",height:"100%",gridSize:10,defaultLink:new window.joint.shapes.app.Link,interactive:!1,async:!0,sorting:window.joint.dia.Paper.sorting.APPROX}),_.paper.on("blank:pointerup",(c,v,O)=>{}),_.paper.on("cell:pointerup",(c,v,O)=>{c.model.isElement()&&F(c)}),_.paper.on("cell:mouseover",c=>{c.model.isElement()&&c.$box[0].querySelector(".name").classList.add("show")}),_.paper.on("cell:mouseout",c=>{c.model.isElement()&&c.$box[0].querySelector(".name").classList.remove("show")})}function B(){var c,v;if(_.graph.clear(),(c=w.curEditData)!=null&&c.schemeData){I.scheme=(v=w.curEditData)==null?void 0:v.schemeData;const O=N.cloneDeep(I.scheme);if(_.graph.fromJSON(O),J.value=!1,H(),I.selectNodesList.length>0)for(let D=0,re=I.selectNodesList.length;D<re;D++){const se=de(I.selectNodesList[D].id),Z=_.paper.findViewByModel(se);t(Z)}}}function H(){const c={isWaiting:!1,isRunning:!1,isSuccess:!1,isFail:!1};w.curEditData.nodesInfo.forEach(v=>{const O=_.graph.getCell(v.id);if(O){let D=N.cloneDeep(c);v.status===-1?D={...D,isWaiting:!0}:v.status===1?D={...D,isRunning:!0}:v.status===0?D={...D,isSuccess:!0}:v.status===2&&(D={...D,isFail:!0}),O.prop("testStatus",D)}})}function F(c){const v=c.model,O=v.id;I.selectNodesList.some(D=>D.id===O)?(I.selectNodesList=qe(I.selectNodesList).filter(D=>D.id!==O),_.paper.findViewByModel(v).removeTools()):(I.selectNodesList.push({id:O,name:v.get("name")}),t(c))}function t(c){const v=window.joint.elementTools,O=new window.joint.dia.ToolsView({name:"element-pointerdown",tools:[new v.Boundary({padding:5})]});c.addTools(O)}function de(c){var v;return(v=_.graph)==null?void 0:v.getCell(c)}function ce(){I.selectNodesList=N.cloneDeep(w.selectedList),T(),B()}function X(){var c,v;A("update:visible",!1),(v=(c=_.graph)==null?void 0:c.clear)==null||v.call(c),_.paper.removeTools()}function P(){A("save",qe(I.selectNodesList)),X()}return(c,v)=>{const O=V("FullScreen"),D=V("el-icon"),re=V("Rank"),se=V("Close"),Z=V("el-button"),he=Je("loading");return p(),R(S(et),{id:"select-node-dialog",modelValue:W.value,"onUpdate:modelValue":v[2]||(v[2]=ue=>W.value=ue),"append-to-body":"",fullscreen:K.value,"is-custom":"","close-on-press-escape":!1,"close-on-click-modal":!1,onOpen:ce,onClosed:X},{default:l(()=>[e("div",$t,[ne((p(),k("div",Et,[e("div",It,[Pt,e("div",Ot,[K.value?(p(),R(D,{key:0,onClick:v[0]||(v[0]=ue=>K.value=!1)},{default:l(()=>[o(O)]),_:1})):(p(),R(D,{key:1,onClick:v[1]||(v[1]=ue=>K.value=!0)},{default:l(()=>[o(re)]),_:1})),o(D,{onClick:X},{default:l(()=>[o(se)]),_:1})])]),e("div",Rt,[e("div",{id:"dagCanvas",ref_key:"canvas",ref:M,class:"canvas view-dag"},null,512)]),e("div",Ut,[o(Z,{onClick:X},{default:l(()=>[U("取消")]),_:1}),o(Z,{type:"primary",disabled:I.selectNodesList.length===0,onClick:P},{default:l(()=>[U("确定")]),_:1},8,["disabled"])])])),[[he,J.value]])])]),_:1},8,["modelValue","fullscreen"])}}});const Bt={class:"run-task-dialog"},Ft={key:0,class:"item-wrap"},At=e("div",null,"启用后，设置的运行开始节点及其下游所有节点都将使用最新方案进行调度。",-1),Wt=e("div",null,"若上游节点的方案参数和算法版本有变化，可能导致运行失败",-1),Mt={class:"item-wrap"},Jt=e("div",null,"注意所选节点间的依赖关系，从不合理的",-1),qt=e("div",null,"节点开始运行可能会导致任务运行失败",-1),Gt={class:"item-wrap"},Xt={class:"node-select-container"},zt={class:"box-container"},Qt=["title"],Kt={class:"btn-container"},Ht={class:"run-task-dialog","element-loading-text":"正在获取运行参数..."},Zt={key:0},Yt={class:"sub-title"},ea=e("span",{class:"text"},"参数赋值",-1),ta=e("span",{class:"line"},[e("span")],-1),aa=["title"],sa=["title"],la={key:1,class:"empty-content"},oa={key:2},na={class:"sub-title"},ia=e("span",{class:"text"},"变量赋值",-1),da=e("span",{class:"line"},[e("span")],-1),ca=["title"],ra={class:"dialog-footer"},Hs=We({__name:"RerunTaskDialog",props:{visible:{type:Boolean,default:!1},dagData:{default:()=>({})},isService:{type:Boolean,default:!1},isResultData:{type:Boolean,default:!1},hideNewSchema:{type:Boolean,default:!1}},emits:["update:visible","success"],setup(j,{emit:ie}){const A=ie,w=j;Le("getCellData",_e),Le("getControlInfo",Oe),Le("getCustomVariableList",v);const W=E(),J=E([]),K=a=>{a&&J.value.every(s=>s.controlName!==a.controlName)&&J.value.push(a)};ct(()=>{J.value=[]});const I=E(!1),M=E(!1),_=E(!1),T=E(!0),B=E(!0),H=E(!1),F=E(1);Ve(()=>w.visible,a=>{I.value=a});const t=Me({editData:{useNewSchema:!1,mode:G.NOTSUCCESS,nodesList:[]},publishConfigList:[],cellData:[],customVarList:[],curEditCustomVarList:[],srsOptions:[],selectNodeVisible:!1,curDagNodeData:{schemeData:{},nodesInfo:[]}}),de=Q(()=>w.isResultData?Fe.getReplaceSchema:ve.getReplaceSchema),ce=Q(()=>{const a=N.get(w.dagData,"dag");return a?Te(a)?N.cloneDeep(JSON.parse(a)):N.cloneDeep(a):{}}),X=Q(()=>{var a;return(a=ce.value)==null?void 0:a.cells}),P=Q(()=>{const a=N.get(w.dagData,"nodesInfo");return a?N.cloneDeep(a):[]}),c=Q(()=>{const a=N.get(w.dagData,"customVarList");return a?N.cloneDeep(a):[]});function v(){return t.customVarList||[]}function O(){F.value=1,t.editData={useNewSchema:!1,mode:G.NOTSUCCESS,nodesList:[]},w.dagData.isRunSuccess&&(t.editData.mode=G.FIRST),Ne(()=>{var a;(a=W.value)==null||a.clearValidate(),t.cellData=N.cloneDeep(X.value),t.customVarList=N.cloneDeep(c.value)}),ke()}function D(){t.curEditCustomVarList=[],A("update:visible",!1)}function re(){t.editData.mode===G.APPOINT?Ue(W).then(a=>{a&&se()}):se()}function se(){T.value=!0,B.value=!0,t.editData.useNewSchema?de.value(w.dagData.id).then(a=>{if(a.code==="0000"){const{newSchema:{cells:s=[]},userVars:f=[]}=a.data;t.cellData=N.cloneDeep(s),t.customVarList=N.cloneDeep(f),Z()}else te({type:"error",message:"获取最新方案失败"})}).catch(()=>{te({type:"error",message:"获取最新方案错误"})}):(t.cellData=N.cloneDeep(X.value),t.customVarList=N.cloneDeep(c.value),Z())}function Z(){_.value=!0,t.publishConfigList=[],he(),t.curEditCustomVarList=N.cloneDeep(v()),t.curEditCustomVarList.forEach(a=>{const{type:s,value:f}=a;s==="NUMBER"&&(a.value=N.isNumber(f)?f:Number(f))}),H.value=t.curEditCustomVarList.filter(a=>a.published).length>0,F.value=2}function he(){if(!t.cellData)return te({type:"warning",message:`该数据【${w.dagData.name}】没有关联正确的 dag 信息`});const a=t.cellData.filter(s=>s.type==="algorithm.Element"&&s.publishParamList&&s.publishParamList.length>0);if(a.length>0){const s=Array(a.length).fill(void 0);a.forEach((g,m)=>{s[m]=ue(g.version.id,g.id)}),Promise.all(s).then(g=>{g.some(m=>!m)?te({type:"warning",message:"获取运行参数失败！请检查算法版本后重试"}):(_.value=!1,t.publishConfigList=N.cloneDeep(g),a.forEach(m=>{t.publishConfigList.forEach(L=>{L.uid===m.id&&(m.publishParamList.forEach($=>{L.pubulishData[$]=m.data[$]}),L.name=m.name)})}),t.publishConfigList.forEach(m=>{m.paramsConfigList=m.paramsConfigList.filter(L=>m.pubulishData.hasOwnProperty(L.paramName)),m.relations=m.relations.filter(L=>m.pubulishData.hasOwnProperty(L.source)&&m.pubulishData.hasOwnProperty(L.target))}))})}else _.value=!1}function ue(a,s){return new Promise((f,g)=>{Nt.getAlgorithmDetailInfo(a).then(m=>{if(m.code==="0000"){const{data:L}=m,{name:$,paramsConfig:z}=L;if(Te(z)){const ee=JSON.parse(z),pe={paramsConfigList:ee.config||[],relations:ee.relations||[],type:ee.type||"JOB",name:$,uid:s,pubulishData:{}};setTimeout(()=>{f(N.cloneDeep(pe))},100)}else f(!1)}else f(!1)}).catch(()=>{f(!1)})})}function Ee(a,s,f){const g=_e(f);g.data[s]=a,be(g)}function Ie(a,s,f){const g=_e(f);g.customVarEnums.forEach(m=>{m.key===s&&(m.isUsed=a)}),be(g)}function De(a,s){t.curEditCustomVarList.forEach(f=>{f.name===s&&(f.value=a)})}function ge(a,s){t.curEditCustomVarList.forEach(f=>{f.name===s&&(f.value=JSON.stringify(a))})}function be(a){const{data:s={},requiredParamList:f=[],customVarEnums:g=[]}=a;let m=!0;for(let L=0,$=f.length;L<$;L++)if(s[f[L]]===void 0||s[f[L]]===null||s[f[L]]===""){const z=g.find(ye=>ye.key===f[L]);if(z){if(!z.isUsed){m=!1;break}}else{m=!1;break}}a.isPassValid=m}function ke(){wt.getSrsList().then(a=>{a.code==="0000"?t.srsOptions=a.data:(t.srsOptions=[],te({type:"error",message:"获取坐标系统失败"}))}).catch(()=>{t.srsOptions=[],te({type:"error",message:"获取坐标系统错误"})})}function Pe(a,s){const f=J.value.find(g=>g.controlName===a&&g.uid===s);return f||null}function Oe(a,s){const f=Pe(a,s);return f?f.allParam:null}function _e(a){return t.cellData.find(s=>s.id===a)}function Re(){const a=N.cloneDeep(t.cellData);return new Promise((s,f)=>{let g=!0;for(let m=0,L=a.length;m<L;m++){const $=a[m];if($.type==="algorithm.Element"&&($.isError||!$.isPassValid)){g=!1;break}}s(!!g)})}function Ue(a){return new Promise((s,f)=>{a.value?a.value.validate(g=>{s(g)}):s(!1)})}function Se(){const a=N.cloneDeep(t.curEditCustomVarList);return new Promise((s,f)=>{let g=!0;for(let m=0,L=a.length;m<L;m++){const $=a[m];if($.value!==0&&!$.value){g=!1;break}}s(!!g)})}function d(){i()}function i(){const a=Re(),s=Se();Promise.all([a,s]).then(([g,m])=>{if((!g||!m)&&te({type:"warning",message:`请正确填写 ${g?"":"【参数赋值】"}  ${m?"":"【变量赋值】"}`}),g&&m){const L={cells:N.cloneDeep(t.cellData)},$={id:w.dagData.id,dag:JSON.stringify(L),customVarList:N.cloneDeep(t.curEditCustomVarList),mode:t.editData.mode,useNewSchema:t.editData.useNewSchema};t.editData.mode===G.APPOINT&&($.nodeIds=t.editData.nodesList.map(ee=>ee.id));const z=[$];M.value=!0,(w.isService?Fe.republishService:ve.rerunWorker)(z).then(ee=>{M.value=!1,ee.code==="0000"?(me({type:"success",title:"任务重新运行中"}),A("success"),D()):me({type:"error",title:"任务重新运行失败"})}).catch(()=>{M.value=!1,me({type:"error",title:"任务重新运行失败"})})}})}function h(){var a;(a=W.value)==null||a.validateField("nodesList")}function b(){t.editData.mode===G.APPOINT&&h()}function u(){t.editData.mode===G.APPOINT&&h()}function x(a,s,f){t.editData.nodesList.length>0?f():f(new Error("请选择指定节点"))}function le(){t.editData.useNewSchema?de.value(w.dagData.id).then(a=>{if(a.code==="0000"){const{newSchema:s}=a.data;t.curDagNodeData.schemeData=N.cloneDeep(s),t.curDagNodeData.nodesInfo=[],t.selectNodeVisible=!0}else te({type:"error",message:"获取最新方案失败"})}).catch(()=>{te({type:"error",message:"获取最新方案错误"})}):(t.curDagNodeData.schemeData=N.cloneDeep(ce.value),t.curDagNodeData.nodesInfo=N.cloneDeep(P.value),t.selectNodeVisible=!0)}function oe(a){t.editData.nodesList=N.cloneDeep(a),h()}function q(a){t.editData.nodesList=t.editData.nodesList.filter(s=>s.id!==a.id),h()}Le("getCellById",n);function n(a){var f;const s=(f=t.cellData)==null?void 0:f.find(g=>g.id===a);return s?{attributes:s}:{}}return(a,s)=>{const f=V("el-checkbox"),g=V("QuestionFilled"),m=V("el-icon"),L=V("el-tooltip"),$=V("el-form-item"),z=V("el-radio"),ye=V("el-radio-group"),ee=V("Close"),pe=V("el-button"),je=V("el-form"),Be=V("el-input"),at=V("el-input-number"),st=V("el-option"),lt=V("el-select"),ot=V("el-dialog"),nt=Je("loading");return p(),R(ot,{modelValue:I.value,"onUpdate:modelValue":s[7]||(s[7]=r=>I.value=r),class:"task-dialog",title:"重新运行任务","append-to-body":"","close-on-click-modal":!1,"close-on-press-escape":!1,top:"8vh",width:"540px",onOpen:O,onClosed:D},{footer:l(()=>[e("span",ra,[o(pe,{disabled:_.value,onClick:s[5]||(s[5]=r=>I.value=!1)},{default:l(()=>[U("取 消")]),_:1},8,["disabled"]),F.value===1?(p(),R(pe,{key:0,type:"primary",onClick:re},{default:l(()=>[U(" 下一步 ")]),_:1})):(p(),k(ae,{key:1},[o(pe,{type:"primary",plain:"",onClick:s[6]||(s[6]=r=>F.value=1)},{default:l(()=>[U(" 上一步 ")]),_:1}),o(pe,{type:"primary",loading:M.value,disabled:_.value,onClick:d},{default:l(()=>[U(" 确 定 ")]),_:1},8,["loading","disabled"])],64))])]),default:l(()=>[ne(e("div",Bt,[o(je,{ref_key:"editFormRef",ref:W,class:"edit-form",inline:"",model:t.editData,"label-width":"150px","label-position":"right",onKeyup:rt(d,["enter"])},{default:l(()=>[a.hideNewSchema?we("",!0):(p(),k("div",Ft,[o($,{label:"使用最新方案：",prop:"useNewSchema"},{default:l(()=>[o(f,{modelValue:t.editData.useNewSchema,"onUpdate:modelValue":s[0]||(s[0]=r=>t.editData.useNewSchema=r),disabled:!a.dagData.taskId,onChange:b},null,8,["modelValue","disabled"]),o(L,{class:"item",effect:"dark",placement:"top"},{content:l(()=>[At,Wt]),default:l(()=>[o(m,{style:{"margin-left":"12px"}},{default:l(()=>[o(g)]),_:1})]),_:1})]),_:1})])),e("div",Mt,[o($,{label:"运行开始位置：",prop:"mode"},{default:l(()=>[o(ye,{modelValue:t.editData.mode,"onUpdate:modelValue":s[1]||(s[1]=r=>t.editData.mode=r),class:"mode-group",onChange:u},{default:l(()=>{var r;return[e("div",null,[o(z,{label:S(G).NOTSUCCESS,disabled:(r=a.dagData)==null?void 0:r.isRunSuccess},{default:l(()=>[U(" 从非成功节点开始运行 ")]),_:1},8,["label","disabled"])]),e("div",null,[o(z,{label:S(G).FIRST},{default:l(()=>[U("从起始节点开始运行")]),_:1},8,["label"])]),e("div",null,[o(z,{label:S(G).APPOINT},{default:l(()=>[U("从指定节点开始运行")]),_:1},8,["label"]),o(L,{class:"item",effect:"dark",placement:"top"},{content:l(()=>[Jt,qt]),default:l(()=>[o(m,{style:{"font-size":"14px"}},{default:l(()=>[o(g)]),_:1})]),_:1})])]}),_:1},8,["modelValue"])]),_:1})]),ne(e("div",Gt,[o($,{label:"指定节点：",prop:"nodesList",required:"",rules:{validator:x,trigger:["blur","change"]}},{default:l(()=>[e("div",Xt,[e("div",zt,[(p(!0),k(ae,null,fe(t.editData.nodesList,r=>(p(),k("div",{key:r.id,class:"box"},[e("span",{class:"text",title:r.name},y(r.name),9,Qt),o(m,{onClick:C=>q(r)},{default:l(()=>[o(ee)]),_:2},1032,["onClick"])]))),128))]),e("div",Kt,[o(pe,{type:"primary",text:"",onClick:le},{default:l(()=>[U("选择节点")]),_:1})])])]),_:1},8,["rules"])],512),[[Ce,t.editData.mode===S(G).APPOINT]])]),_:1},8,["model"])],512),[[Ce,F.value===1]]),ne((p(),k("div",Ht,[t.publishConfigList.length>0?(p(),k("div",Zt,[e("div",Yt,[ea,e("span",{class:"icon",onClick:s[2]||(s[2]=r=>T.value=!T.value)},[T.value?(p(),R(m,{key:0},{default:l(()=>[o(S(Ge))]),_:1})):(p(),R(m,{key:1},{default:l(()=>[o(S(Xe))]),_:1}))]),ta]),e("div",{class:Y(["publish-main-box",T.value?"height-full":"height-none"])},[(p(!0),k(ae,null,fe(t.publishConfigList,r=>(p(),k("div",{key:r.uid,class:"publish-form-box"},[e("div",{class:"p-title",title:r.name},y(r.name),9,aa),o(je,{class:"publish-params-form",inline:"",model:r.pubulishData,"label-width":"100px","label-position":"right"},{default:l(()=>[(p(!0),k(ae,null,fe(r.paramsConfigList,(C,it)=>(p(),k("div",{key:C.paramName,class:"item-wrap"},[(p(),R($,{key:C.paramName+it,prop:C.paramName,"label-width":C.controlType==="CHECK_BOX_XX"?"":"150px"},{label:l(()=>[e("span",{class:Y({labelBox:!0,isRequired:C.required}),title:C.paramLabel},y(C.paramLabel+"："),11,sa)]),default:l(()=>[o(Ct,{ref_for:!0,ref:K,modelValue:r.pubulishData[C.paramName],"onUpdate:modelValue":dt=>r.pubulishData[C.paramName]=dt,"control-name":C.paramName,uid:r.uid,type:r.type,"all-param":C,relations:r.relations,onChange:Ee,onChangeCustomVar:Ie},null,8,["modelValue","onUpdate:modelValue","control-name","uid","type","all-param","relations"])]),_:2},1032,["prop","label-width"]))]))),128))]),_:2},1032,["model"])]))),128))],2)])):(p(),k("div",la,"未设置发布参数")),H.value?(p(),k("div",oa,[e("div",na,[ia,e("span",{class:"icon",onClick:s[3]||(s[3]=r=>B.value=!B.value)},[B.value?(p(),R(m,{key:0},{default:l(()=>[o(S(Ge))]),_:1})):(p(),R(m,{key:1},{default:l(()=>[o(S(Xe))]),_:1}))]),da]),e("div",{class:Y(["custom-var-main-box",B.value?"height-full":"height-none"])},[o(je,{class:"publish-params-form",inline:"","label-width":"100px","label-position":"right"},{default:l(()=>[(p(!0),k(ae,null,fe(t.curEditCustomVarList,r=>(p(),k(ae,null,[r.published?(p(),k("div",{key:r.id,class:"item-wrap"},[o($,{"label-width":"150px"},{label:l(()=>[e("span",{class:Y({labelBox:!0,isRequired:!0}),title:r.alisaName||r.name},y((r.alisaName||r.name)+"："),9,ca)]),default:l(()=>[r.type==="TEXT"?(p(),R(Be,{key:0,modelValue:r.value,"onUpdate:modelValue":C=>r.value=C,type:"text",placeholder:"请输入变量值"},null,8,["modelValue","onUpdate:modelValue"])):r.type==="NUMBER"?(p(),R(at,{key:1,modelValue:r.value,"onUpdate:modelValue":C=>r.value=C,style:{width:"100%"},"controls-position":"right",placeholder:"请输入数值"},null,8,["modelValue","onUpdate:modelValue"])):r.type==="SQL"||r.type==="REGULAR"?(p(),R(Be,{key:2,modelValue:r.value,"onUpdate:modelValue":C=>r.value=C,type:"textarea",style:{width:"100%"},placeholder:"请输入",rows:4},null,8,["modelValue","onUpdate:modelValue"])):r.type==="SRS"?(p(),R(lt,{key:3,modelValue:r.value,"onUpdate:modelValue":C=>r.value=C,style:{width:"100%"},filterable:"","allow-create":"",placeholder:"请输入或选择坐标系统"},{default:l(()=>[(p(!0),k(ae,null,fe(t.srsOptions,C=>(p(),R(st,{key:C.value,label:C.label,value:C.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):r.type==="DATASOURCE"?(p(),R(Dt,{key:4,modelValue:r.value,"onUpdate:modelValue":C=>r.value=C,"control-name":r.name,onChange:De},null,8,["modelValue","onUpdate:modelValue","control-name"])):r.type==="TEMPLATE"?(p(),R(kt,{key:5,modelValue:r.value,"onUpdate:modelValue":C=>r.value=C,"control-name":r.name,onChange:ge},null,8,["modelValue","onUpdate:modelValue","control-name"])):(p(),R(Be,{key:6,modelValue:r.value,"onUpdate:modelValue":C=>r.value=C,type:"text"},null,8,["modelValue","onUpdate:modelValue"]))]),_:2},1024)])):we("",!0)],64))),256))]),_:1})],2)])):we("",!0)])),[[Ce,F.value===2],[nt,_.value]]),o(jt,{visible:t.selectNodeVisible,"onUpdate:visible":s[4]||(s[4]=r=>t.selectNodeVisible=r),"cur-edit-data":t.curDagNodeData,"selected-list":t.editData.nodesList,onSave:oe},null,8,["visible","cur-edit-data","selected-list"])]),_:1},8,["modelValue"])}}});const $e=j=>(bt("data-v-d7e1ad25"),j=j(),yt(),j),ua={class:"main-content"},pa={class:"header"},fa={class:"left"},ma={class:"scheme-name"},_a={class:"scheme-status"},va={class:"right"},ha={class:"display-container"},ga={id:"scheme-container",class:"scheme-container"},ba={class:"status-des"},ya={class:"txt"},Na={class:"dag-container"},wa={key:0,class:"job info"},Ca={class:"tab-container"},Da={class:"content"},ka={class:"title"},Sa={class:"name"},La={key:0,class:"info-box"},Va={class:"item-wrap"},Ta={class:"value"},xa={class:"item-wrap"},$a={class:"value"},Ea={class:"item-wrap"},Ia={class:"value"},Pa={class:"item-wrap"},Oa={class:"value"},Ra={class:"item-wrap"},Ua={class:"value"},ja={key:1,class:"info-box"},Ba={class:"item-wrap"},Fa={class:"value"},Aa={class:"item-wrap"},Wa={class:"value"},Ma={class:"item-wrap"},Ja={class:"form-part-container"},qa=$e(()=>e("div",{class:"subTitle"},[e("div",{class:"text"},"基本信息")],-1)),Ga={class:"expand-content"},Xa={class:"item-wrap"},za={class:"value"},Qa={class:"item-wrap"},Ka={class:"value"},Ha={class:"item-wrap"},Za={class:"value"},Ya={class:"item-wrap"},es={class:"value"},ts={class:"item-wrap"},as={class:"value"},ss={class:"item-wrap"},ls={class:"value"},os={key:1,class:"node info"},ns={class:"tab-container"},is={class:"title"},ds={class:"name"},cs={class:"info-box"},rs={class:"item-wrap"},us={class:"value"},ps={class:"item-wrap"},fs={class:"value"},ms={class:"item-wrap"},_s={class:"value"},vs={class:"item-wrap"},hs={class:"value"},gs={class:"item-wrap"},bs={class:"value"},ys={key:0,class:"item-wrap"},Ns={class:"value operator"},ws={key:1,class:"log-content"},Cs=$e(()=>e("p",{class:"showLogBox log"},null,-1)),Ds=[Cs],ks={class:"info-box"},Ss={class:"item-wrap"},Ls={class:"value"},Vs={class:"item-wrap"},Ts={class:"value"},xs={class:"form-part-container"},$s=$e(()=>e("div",{class:"subTitle"},[e("div",{class:"text"},"算法参数")],-1)),Es={class:"expand-content"},Is={class:"param-label"},Ps={class:"param-value"},Os={class:"form-part-container"},Rs=$e(()=>e("div",{class:"subTitle"},[e("div",{class:"text"},"高级属性")],-1)),Us={class:"expand-content"},js={class:"item-wrap"},Bs={class:"value"},Fs={class:"dialog-footer"},As=We({__name:"WorkerInfoDialog",props:{visible:{type:Boolean,default:!1},curEditData:{default:()=>({})},domId:{default:""},isService:{type:Boolean,default:!1},isCycleInstance:{type:Boolean,default:!1}},emits:["update:visible","refresh","rerun","cancel","delete","refreshList"],setup(j,{emit:ie}){const A=ie,w=j,{isRunning:W,statusFormatter:J,statusIconFormatter:K,priorityFormatter:I}=xt();Ze(()=>{tt(()=>import("./jointPlug.cfec54db.js"),["./jointPlug.cfec54db.js","./jointPrepare.318e4ddb.js","./element-plus.59ccb443.js","./lodash.22f463b4.js","../css/element-plus-a5bc9350.css","./login.a4e9287e.js","./error.229cea25.js","../css/error-ab7d0c80.css","../../app-config.js","../css/login-8a4effaf.css","./index.vue_vue_type_style_index_0_scoped_7b7c1886_lang.2666f209.js","./index-a95bb620.js","./echarts.39e3cf74.js","./wujie-vue3.9ecbe737.js","./smartweb3.2d5e4c59.js","../css/smartweb3-f9bf067f.css","./smart-ui.e8e0134c.js","../css/smart-ui-6d875ea0.css","../css/index-fc6a8528.css","../css/index-05133815.css","./useTableAndPagination.0c6e0294.js","../css/jointPrepare-41e4096f.css"],import.meta.url).then(()=>{Ne(()=>{Z()})})});const M=E(!1),_=E(!1),T=E(!1),B=E(!0),H=E(!1),F=E(null),t=Me({scheme:{},currentNodeInfo:{},paramsArray:[],curClickId:"",activeSchemeName:"log",activeNodeName:"log"}),de=E(),ce=E(),X=E(),P=Ye({paper:null,graph:null}),c=Q(()=>{var d;return((d=w.curEditData)==null?void 0:d.jobInfo)||{}}),v=Q(()=>{var d;return Pe((d=t.currentNodeInfo)==null?void 0:d.id)}),O=Q(()=>{var d;return((d=v.value)==null?void 0:d.name)||""}),D=Q(()=>{var d,i;return((i=(d=v.value)==null?void 0:d.version)==null?void 0:i.label)||""}),re=Q(()=>{var i;const d=((i=v.value)==null?void 0:i.timeout)??0;return d===0?"无限制":`${d}小时`}),se=Q(()=>{const{beginTime:d,endTime:i}=t.currentNodeInfo;return d&&i?Re(i,d):""});Ve(()=>w.visible,d=>{M.value=d}),Ve(()=>w.curEditData,d=>{var i;d&&ge(((i=w.curEditData)==null?void 0:i.nodesInfo)||[])},{deep:!0}),ut(()=>{clearInterval(F.value),F.value=null});function Z(){P.graph=new window.joint.dia.Graph,P.paper=new window.joint.dia.Paper({el:de.value,model:P.graph,width:"100%",height:"100%",gridSize:10,defaultLink:new window.joint.shapes.app.Link,interactive:!1,async:!0,sorting:window.joint.dia.Paper.sorting.APPROX}),P.paper.on("blank:pointerup",(d,i,h)=>{if(B.value=!0,t.curClickId!==""){const b=P.graph.getCell(t.curClickId);P.paper.findViewByModel(b).removeTools()}t.curClickId=""}),P.paper.on("cell:pointerup",(d,i,h)=>{const b=d.model;if(b.isElement()){if(t.curClickId!==b.id){if(t.curClickId!==""){const u=P.graph.getCell(t.curClickId);P.paper.findViewByModel(u).removeTools()}t.curClickId=b.id,t.activeNodeName="log",he(d)}else return;B.value=!1,H.value=!0,ve.getWorkerNodeInfo({id:b.id,jobId:c.value.id}).then(u=>{var x;u.code==="0000"?(t.currentNodeInfo=u.data,be(),(x=t.currentNodeInfo)!=null&&x.log&&ke()):me({type:"warning",title:"查询详情失败，请重试"})}).catch(u=>{me({type:"error",title:"查询详情失败",message:u.message||"服务有错"})}).finally(()=>{H.value=!1})}}),P.paper.on("cell:mouseover",d=>{d.model.isElement()&&d.$box[0].querySelector(".name").classList.add("show")}),P.paper.on("cell:mouseout",d=>{d.model.isElement()&&d.$box[0].querySelector(".name").classList.remove("show")})}function he(d){const i=window.joint.elementTools,h=new window.joint.dia.ToolsView({name:"element-pointerdown",tools:[new i.Boundary({padding:5})]});d.addTools(h)}function ue(){H.value=!0,ve.getWorkerNodeInfo({id:t.curClickId,jobId:c.value.id}).then(d=>{var i;d.code==="0000"&&(t.currentNodeInfo=d.data,be(),(i=t.currentNodeInfo)!=null&&i.log&&ke())}).finally(()=>{H.value=!1})}function Ee(){var d,i,h,b;if(P.graph.clear(),Te((i=(d=w.curEditData)==null?void 0:d.jobInfo)==null?void 0:i.scheme)){t.scheme=JSON.parse(w.curEditData.jobInfo.scheme);const u=N.cloneDeep(t.scheme);P.graph.fromJSON(u),_.value=!1,ge(w.curEditData.nodesInfo||[]),De(),(((h=c.value)==null?void 0:h.status)===He.RUNNING||((b=c.value)==null?void 0:b.status)===He.NOTINIT)&&Ie()}}function Ie(){F.value=setInterval(()=>{De()},5e3)}function De(){var h,b;const d=w.isService?Fe.getWorkerInfoByServiceId:ve.getWorkerNodeList,i=w.isService?(h=c.value)==null?void 0:h.serviceId:(b=c.value)==null?void 0:b.id;d(i).then(u=>{var x;u.code==="0000"&&ge(((x=u.data)==null?void 0:x.nodesInfo)||[])})}function ge(d){const i={isWaiting:!1,isRunning:!1,isSuccess:!1,isFail:!1};d.forEach(h=>{const b=P.graph.getCell(h.id);if(b){let u=N.cloneDeep(i);h.status===-1?u={...u,isWaiting:!0}:h.status===1?u={...u,isRunning:!0}:h.status===0?u={...u,isSuccess:!0}:h.status===2&&(u={...u,isFail:!0}),b.prop("testStatus",u)}})}function be(){const{paramsConfig:d}=t.currentNodeInfo,i=JSON.parse(d).config,{data:h}=v.value;t.paramsArray=i.map(b=>{const{paramLabel:u,paramName:x,controlType:le,paramTypeEnums:oe}=b;let q=h[x];if(le==="SELECT_TREE"&&oe==="TEMPLATE"&&Te(q)){const n=JSON.parse(q);q=n==null?void 0:n.name}return{label:u,value:q}}),B.value=!1}function ke(){const{log:d}=t.currentNodeInfo;Ne(()=>{var h;const i=(h=ce.value)==null?void 0:h.querySelector(".showLogBox");i&&(i.innerText=d)})}function Pe(d){return t.scheme.cells.find(i=>i.id===d)}function Oe(){F.value=null,B.value=!0,t.activeSchemeName="log",t.activeNodeName="log",t.curClickId="",Z(),Ee()}function _e(){var d,i,h;clearInterval(F.value),F.value=null,(i=(d=P.graph)==null?void 0:d.clear)==null||i.call(d),(h=P.paper)==null||h.removeTools(),A("update:visible",!1),w.isService||A("refreshList")}function Re(d,i){const le=new Date(d).getTime()-new Date(i).getTime(),oe=Math.floor(le/864e5),q=le%864e5,n=Math.floor(q/36e5),a=q%36e5,s=Math.floor(a/6e4),f=a%6e4,g=Math.round(f/1e3);return`${oe?`${oe}天`:""}${n?`${n}时`:""}${s?`${s}分`:""}${g}秒`}function Ue(){const{log:d}=t.currentNodeInfo;Ne(()=>{X.value&&(X.value.innerText=d)})}function Se(){const{id:d}=t.currentNodeInfo,{id:i}=c.value;ve.logDownload({nodeId:d,jobId:i}).then(h=>{var b;try{const u=new Blob([h.data.data],{type:"application/octet-stream"});if("download"in document.createElement("a")){const x=document.createElement("a");x.download=`${v.value.name}.txt`,x.style.display="none",x.href=URL.createObjectURL(u),document.body.appendChild(x),x.click(),URL.revokeObjectURL(x.href),document.body.removeChild(x)}else(b=window.navigator)==null||b.msSaveBlob(u,`${v.value.name}.txt`)}catch(u){me({type:"error",title:"下载日志失败",message:u.message||"服务有错"})}}).catch(h=>{me({type:"error",title:"下载日志失败",message:h.message||"服务有错"})})}return(d,i)=>{const h=V("el-icon"),b=V("el-button"),u=V("el-form-item"),x=V("el-form"),le=V("el-checkbox"),oe=V("el-dialog"),q=Je("loading");return p(),R(S(et),{id:"worker-scheme-dialog",modelValue:M.value,"onUpdate:modelValue":i[12]||(i[12]=n=>M.value=n),class:"full-dialog","append-to-dom":d.domId,"modal-append-to-body":!1,fullscreen:"","is-custom":"","close-on-press-escape":!1,onOpen:Oe,onClosed:_e},{default:l(()=>[e("div",ua,[e("div",pa,[e("div",fa,[e("div",{style:{position:"relative","margin-top":"2px",cursor:"pointer"},onClick:_e},[o(h,null,{default:l(()=>[o(S(pt))]),_:1})]),e("div",ma,y(c.value.name),1),e("div",_a,[o(h,{class:Y([S(xe)[c.value.status]])},{default:l(()=>[(p(),R(ft(S(K)(c.value.status))))]),_:1},8,["class"]),U(" "+y(S(J)(c.value.status)),1)])]),e("div",va,[o(b,{type:"primary",text:"",icon:S(mt),disabled:S(W)(c.value.status),onClick:i[0]||(i[0]=n=>A("rerun"))},{default:l(()=>[U(" 重新运行 ")]),_:1},8,["icon","disabled"]),o(b,{type:"primary",text:"",icon:S(_t),disabled:d.isCycleInstance?c.value.status===0||c.value.status===2||c.value.status===-99:d.isService?!S(W)(c.value.status):!S(W)(c.value.status)||!!c.value.serviceId,onClick:i[1]||(i[1]=n=>A("cancel"))},{default:l(()=>[U(" 取消 ")]),_:1},8,["icon","disabled"]),o(b,{disabled:d.isService||d.isCycleInstance?!1:!!c.value.serviceId,type:"primary",text:"",icon:S(vt),onClick:i[2]||(i[2]=n=>A("delete"))},{default:l(()=>[U(" 删除 ")]),_:1},8,["disabled","icon"])])]),e("div",ha,[ne((p(),k("div",ga,[e("div",ba,[(p(!0),k(ae,null,fe(S(Ae),(n,a)=>(p(),k("div",{key:a,class:"list"},[e("span",{class:Y(["point",S(xe)[a]])},null,2),e("span",ya,y(n),1)]))),128))]),e("div",Na,[e("div",{id:"dagCanvas",ref_key:"canvas",ref:de,class:"canvas view-dag"},null,512)])])),[[q,_.value]]),B.value?(p(),k("div",wa,[e("div",Ca,[e("div",{class:Y(["tabName",t.activeSchemeName==="log"?"active":""]),onClick:i[3]||(i[3]=n=>t.activeSchemeName="log")}," 任务日志 ",2),e("div",{class:Y(["tabName",t.activeSchemeName==="prop"?"active":""]),onClick:i[4]||(i[4]=n=>t.activeSchemeName="prop")}," 任务属性 ",2)]),e("div",Da,[e("div",ka,[e("div",Sa,y(t.activeSchemeName==="log"?"任务日志":"任务属性"),1),o(b,{type:"primary",text:"",icon:S(ze),onClick:i[5]||(i[5]=n=>A("refresh"))},{default:l(()=>[U(" 刷新 ")]),_:1},8,["icon"])]),t.activeSchemeName==="log"?(p(),k("div",La,[o(x,{ref:"infoForm",class:"task-info-form",inline:"","label-width":"90px","label-position":"left"},{default:l(()=>[e("div",Va,[o(u,{label:"创建时间："},{default:l(()=>{var n;return[e("span",Ta,y((n=c.value)==null?void 0:n.createTime),1)]}),_:1})]),e("div",xa,[o(u,{label:"开始时间："},{default:l(()=>{var n;return[e("span",$a,y((n=c.value)==null?void 0:n.beginTime),1)]}),_:1})]),e("div",Ea,[o(u,{label:"结束时间："},{default:l(()=>{var n;return[e("span",Ia,y((n=c.value)==null?void 0:n.endTime),1)]}),_:1})]),e("div",Pa,[o(u,{label:"运行时长："},{default:l(()=>{var n;return[e("span",Oa,y((n=c.value)==null?void 0:n.cumulativeTime),1)]}),_:1})]),e("div",Ra,[o(u,{label:"执行人："},{default:l(()=>{var n;return[e("span",Ua,y((n=c.value)==null?void 0:n.operator),1)]}),_:1})])]),_:1},512)])):(p(),k("div",ja,[o(x,{ref:"infoForm",class:"task-info-form",inline:"","label-width":"90px","label-position":"left"},{default:l(()=>[e("div",Ba,[o(u,{label:"任务名称："},{default:l(()=>{var n;return[e("span",Fa,y((n=c.value)==null?void 0:n.name),1)]}),_:1})]),e("div",Aa,[o(u,{label:"优先级："},{default:l(()=>{var n;return[e("span",Wa,y(S(I)((n=c.value)==null?void 0:n.priority)),1)]}),_:1})]),e("div",Ma,[o(u,{class:"clearData-item",label:"删除过程数据："},{default:l(()=>[o(le,{modelValue:c.value.clearData,"onUpdate:modelValue":i[6]||(i[6]=n=>c.value.clearData=n),disabled:""},null,8,["modelValue"])]),_:1})]),e("div",Ja,[qa,e("div",Ga,[e("div",Xa,[o(u,{label:"方案名称："},{default:l(()=>{var n;return[e("span",za,y((n=c.value)==null?void 0:n.taskName),1)]}),_:1})]),e("div",Qa,[o(u,{label:"方案分组："},{default:l(()=>{var n;return[e("span",Ka,y((n=c.value)==null?void 0:n.taskCatalog),1)]}),_:1})]),e("div",Ha,[o(u,{label:"描述："},{default:l(()=>{var n;return[e("span",Za,y(((n=c.value)==null?void 0:n.description)||"未描述"),1)]}),_:1})]),e("div",Ya,[o(u,{label:"创建人："},{default:l(()=>{var n;return[e("span",es,y((n=c.value)==null?void 0:n.creator),1)]}),_:1})]),e("div",ts,[o(u,{label:"创建时间："},{default:l(()=>{var n;return[e("span",as,y((n=c.value)==null?void 0:n.createTime),1)]}),_:1})]),e("div",ss,[o(u,{label:"更新时间："},{default:l(()=>{var n;return[e("span",ls,y((n=c.value)==null?void 0:n.updateTime),1)]}),_:1})])])])]),_:1},512)]))])])):(p(),k("div",os,[e("div",ns,[e("div",{class:Y(["tabName",t.activeNodeName==="log"?"active":""]),onClick:i[7]||(i[7]=n=>t.activeNodeName="log")}," 节点日志 ",2),e("div",{class:Y(["tabName",t.activeNodeName==="prop"?"active":""]),onClick:i[8]||(i[8]=n=>t.activeNodeName="prop")}," 节点属性 ",2)]),ne((p(),k("div",{ref_key:"contentRef",ref:ce,class:"content"},[e("div",is,[e("div",ds,y(t.activeNodeName==="log"?"节点日志":"节点属性"),1),o(b,{type:"primary",text:"",icon:S(ze),onClick:ue},{default:l(()=>[U(" 刷新 ")]),_:1},8,["icon"])]),ne(e("div",cs,[o(x,{ref:"logForm",class:"task-log-form",inline:"","label-width":"90px","label-position":"left"},{default:l(()=>{var n,a;return[e("div",rs,[o(u,{label:"节点状态："},{default:l(()=>{var s;return[e("span",us,y(S(J)((s=t.currentNodeInfo)==null?void 0:s.status)),1)]}),_:1})]),e("div",ps,[o(u,{label:"开始时间："},{default:l(()=>{var s;return[e("span",fs,y((s=t.currentNodeInfo)==null?void 0:s.beginTime),1)]}),_:1})]),e("div",ms,[o(u,{label:"结束时间："},{default:l(()=>{var s;return[e("span",_s,y((s=t.currentNodeInfo)==null?void 0:s.endTime),1)]}),_:1})]),e("div",vs,[o(u,{label:"运行时长："},{default:l(()=>[e("span",hs,y(se.value),1)]),_:1})]),e("div",gs,[o(u,{label:"失败重试："},{default:l(()=>{var s;return[e("span",bs,y(((s=t.currentNodeInfo)==null?void 0:s.restartTimes)||"--")+"次",1)]}),_:1})]),(n=t.currentNodeInfo)!=null&&n.log?(p(),k("div",ys,[o(u,{label:"任务日志："},{default:l(()=>[e("span",Ns,[e("span",{title:"弹窗查看",onClick:i[9]||(i[9]=s=>T.value=!0)},[o(h,null,{default:l(()=>[o(S(ht))]),_:1})]),e("span",{title:"下载日志",onClick:Se},[o(h,null,{default:l(()=>[o(S(gt))]),_:1})])])]),_:1})])):we("",!0),(a=t.currentNodeInfo)!=null&&a.log?(p(),k("div",ws,Ds)):we("",!0)]}),_:1},512)],512),[[Ce,t.activeNodeName==="log"]]),ne(e("div",ks,[o(x,{ref:"paramsForm",class:"task-params-form",inline:"","label-width":"90px","label-position":"left"},{default:l(()=>[e("div",Ss,[o(u,{label:"算法名称："},{default:l(()=>[e("span",Ls,y(O.value),1)]),_:1})]),e("div",Vs,[o(u,{label:"算法版本："},{default:l(()=>[e("span",Ts,y(D.value),1)]),_:1})]),e("div",xs,[$s,e("div",Es,[(p(!0),k(ae,null,fe(t.paramsArray,(n,a)=>(p(),k("div",{key:n.label+a,class:"item-wrap custom-form-item"},[e("div",Is,y(n.label+"："),1),e("div",Ps,y(n.value),1)]))),128))])]),e("div",Os,[Rs,e("div",Us,[e("div",js,[o(u,{label:"节点超时："},{default:l(()=>[e("span",Bs,y(re.value),1)]),_:1})])])])]),_:1},512)],512),[[Ce,t.activeNodeName==="prop"]])])),[[q,H.value]])]))])]),o(oe,{ref:"logDialogRef",modelValue:T.value,"onUpdate:modelValue":i[11]||(i[11]=n=>T.value=n),title:"任务日志",class:"center-dialog log-read-dialog","append-to-body":"","close-on-click-modal":!1,"close-on-press-escape":!1,width:"50%",onOpen:Ue},{footer:l(()=>[e("span",Fs,[o(b,{onClick:i[10]||(i[10]=n=>T.value=!1)},{default:l(()=>[U("关闭")]),_:1}),o(b,{type:"primary",onClick:Se},{default:l(()=>[U("下载")]),_:1})])]),default:l(()=>[e("p",{ref_key:"logTextRef",ref:X,class:"log-txt"},y(t.currentNodeInfo.log),513)]),_:1},8,["modelValue"])]),_:1},8,["modelValue","append-to-dom"])}}});const Zs=Tt(As,[["__scopeId","data-v-d7e1ad25"]]);export{G as R,Zs as W,Hs as _,xt as u};
